<html>
<head>
    <title>Cellular Automata</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script type="application/javascript" src="draw.js"></script>
    <script type="application/javascript" src="simulation.js"></script>
    <script type="application/javascript" src="ruleset_generation.js"></script>
    <script type="application/javascript" src="bin_hex_conversion.js"></script>
    <script type="application/javascript" src="controls.js"></script>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
</head>
<body>
<div id="outer_container">
    <div style="width: 20vw; margin: 50px"></div>
    <div id="main-container">
        <div id="controls">
            <div id="play-pause-control">
                <label for="play-pause-btn">Play/Pause</label>
                <span id="play-pause-btn" class="material-symbols-outlined">pause</span>
            </div>
            <div id="speed-control">
                <label for="speed-slider">Simulation speed</label>
                <input type="range" id="speed-slider" name="speed-slider" min="1" max="30" value="5"/>
            </div>
        </div>
        <canvas id="world_canvas" height="600px" width="600px"></canvas>
        <label for="rule-div">Ruleset:</label>
        <div id="rule-div" class="hex"></div>
        <div id="switch-rule-display">Hex/Binary</div>
    </div>
    <div id="custom-rules-container">
        <label id="help-texts-label" for="help-texts">Custom rules area. (Click to toggle help)</label>
        <div id="help-texts">
            <p>Format:</p>
            <p>expression:state;<br>expression:state;<br>expression:state;<br></p>
            <p>Any valid JavaScript expression will work, either arithmetic or logical.</p>
            <p>Available variables:</p>
            <ul>
                <li><strong>cell &lt;Number&gt;</strong> - State of cell (0/1).</li>
                <li><strong>liveNeighbours &lt;Number&gt;</strong> - Numbers of neighbours with state=1 (0-8).</li>
            </ul>
            <p>Example:</p>
            <p>cell === 1 && liveNeighours >= 4 : 0;<br>liveNeighours >= 4 || liveNeighbours === 6 : 0;</p>
            <p>You can even change the ruleset while the simulation is running and see how it gets affected.</p>
        </div>
        <textarea id="rules-area" spellcheck="false"></textarea>
        <div id="apply-ruleset">Apply ruleset</div>
        <div id="apply-game-of-life">Load Conway's Game of Life</div>
    </div>
</div>
</body>
</html>